<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>AgriSense</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- =======================================================
  * Template Name: BizPage
  * Template URL: https://bootstrapmade.com/bizpage-bootstrap-business-template/
  * Updated: Aug 07 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body class="starter-page-page">

  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center justify-content-between">

      <a href="index.html" class="logo d-flex align-items-center">
        <!-- Uncomment the line below if you also wish to use an image logo -->
        <img src="assets/img/logo.png" alt="">
        <h1 class="sitename">AgriSense</h1>
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="servicesde.html">Services</a></li>
          <li class="dropdown"><a href="#"><span>Discover</span> <i class="bi bi-chevron-down toggle-dropdown"></i></a>
            <ul>
              <li><a href="portfolio-details.html">Predictions</a></li>          
              <li><a href="starter.html">Management</a></li>
              <li><a href="test.html">Assessments</a></li>
              <li><a href="service-details.html">Live Map</a></li>
              <li><a href="blog.html">My Device</a></li>
            </ul>
          </li>
          <li><a href="#footer">Contact</a></li>
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
      </nav>

    </div>
  </header>

  <main class="main">

    <!-- Page Title -->
    <div class="page-title dark-background" data-aos="fade" style="background-image: url(assets/img/page-title-bg.jpg);">
      <div class="container position-relative">
        <h1>Water Management Solutions</h1>
       
       
      </div>
    </div><!-- End Page Title -->

    <!-- Starter Section Section -->
    <section id="starter-section" class="starter-section section">

     

     

    </section><!-- /Starter Section Section -->
    <section id="water-management-charts" class="section">
      <div class="container section-title" data-aos="fade-up">
        <h2>Smart Irrigation Prediction System</h2>
        <p>Optimizing Water Usage and Predicting Soil Moisture for Sustainable Farming</p>
      </div>
    
    </section>
     <!-- Section for user input -->
<section id="irrigation-calculator" class="section">
  <div class="container">
    <h2>Irrigation Calculator</h2>
    <form id="irrigation-form">
      <!-- Compact input fields for reservoir volume -->
      <div class="mb-3">
        <label for="reservoir-volume" class="form-label">Reservoir Volume (liters)</label>
        <input type="number" class="form-control form-control-sm" id="reservoir-volume" required>
      </div>
      <!-- Compact input fields for water percentage -->
      <div class="mb-3">
        <label for="water-percentage" class="form-label">Water Percentage in Reservoir (%)</label>
        <input type="number" class="form-control form-control-sm" id="water-percentage" required>
      </div>
      <!-- Compact input fields for field area -->
      <div class="mb-3">
        <label for="field-area" class="form-label">Field Area (m²)</label>
        <input type="number" class="form-control form-control-sm" id="field-area" required>
      </div>
      <!-- Dropdown for selecting plant type -->
      <div class="mb-3">
        <label for="plant-type" class="form-label">Plant Type</label>
        <select class="form-select form-select-sm" id="plant-type">
          <option value="xerophilous">Xerophilous Plants (15%)</option>
          <option value="mesophilous">Mesophilous Plants (50%)</option>
          <option value="hydrophilous">Hydrophilous Plants (80%)</option>
          <option value="succulent">Succulents (10%)</option>
          <option value="drought-tolerant">Drought-tolerant Plants (25%)</option>
          <option value="aquatic">Aquatic Plants (100%)</option>
        </select>
      </div>
      <!-- Submit button with adjusted color and size -->
      <button type="submit" class="btn btn-primary" style="background-color: #023C39; border-color: #023C39;">Calculate</button>
    </form>
    
    <!-- Canvas for soil moisture prediction graph -->
    <canvas id="moistureChart"></canvas>
    <!-- Canvas for water usage graph -->
    <canvas id="waterUsageChart"></canvas>
  </div>
</section>

<script>
let moistureChart;  // Declare variables for charts
let waterUsageChart;

document.getElementById('irrigation-form').addEventListener('submit', function(event) {
    event.preventDefault();
    
    const reservoirVolume = parseFloat(document.getElementById('reservoir-volume').value);
    const waterPercentage = parseFloat(document.getElementById('water-percentage').value);
    const fieldArea = parseFloat(document.getElementById('field-area').value); // Input for field area
    const plantType = document.getElementById('plant-type').value;
    
    const moistureNeeds = {
        xerophilous: 15,
        mesophilous: 50,
        hydrophilous: 80,
        succulent: 10,
        drought_tolerant: 25,
        aquatic: 100
    };

    const weeks = 4; // Number of weeks
    const rainImpact = 5; // Rain impact on soil moisture (% per week, can be adjusted)
    const evaporationRate = 2; // Evaporation due to temperature and humidity (% per week, can be adjusted)
    let initialSoilMoisture = 10; // Initial soil moisture percentage (can be adjusted or input by the user)
    
    // Calculate predicted soil moisture without irrigation
    const weeklySoilMoisture = [];
    for (let week = 1; week <= weeks; week++) {
        // Simulate rain impact
        initialSoilMoisture += rainImpact;
        
        // Simulate evaporation due to environmental factors
        initialSoilMoisture -= evaporationRate;
        
        // Cap soil moisture between 0% and 100%
        if (initialSoilMoisture > 100) initialSoilMoisture = 100;
        if (initialSoilMoisture < 0) initialSoilMoisture = 0;
        
        weeklySoilMoisture.push(initialSoilMoisture);
    }

    // Calculate water usage for irrigation
    const neededMoisturePercentage = moistureNeeds[plantType];
    const weeklyWaterUsage = [];
    for (let week = 1; week <= weeks; week++) {
        const totalWaterUsed = (neededMoisturePercentage / 100) * (waterPercentage / 100) * reservoirVolume * fieldArea;
        const waterUsedThisWeek = totalWaterUsed / weeks;  // Spread evenly over the weeks
        const waterUsedPercentage = (waterUsedThisWeek / (reservoirVolume * fieldArea)) * 100;
        weeklyWaterUsage.push(waterUsedPercentage);
    }

    // Destroy old charts if they exist
    if (moistureChart) {
        moistureChart.destroy();
    }
    if (waterUsageChart) {
        waterUsageChart.destroy();
    }

    // Create new chart for predicted soil moisture (without irrigation)
    const ctx1 = document.getElementById('moistureChart').getContext('2d');
moistureChart = new Chart(ctx1, {
    type: 'line',
    data: {
        labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
        datasets: [{
            label: 'Predicted Soil Moisture (%)',
            data: weeklySoilMoisture,
           borderColor: '#04837bd1',  // Border color
                backgroundColor: 'rgba(4, 131, 123, 0.471)',  // Background color
            fill: true,
        }]
    },
    options: {
        plugins: {
            legend: {
                onClick: null  // Disable hiding/showing the dataset when clicking on the legend
            }
        }
    }
});

    // Create new chart for water usage
    const ctx2 = document.getElementById('waterUsageChart').getContext('2d');
    waterUsageChart = new Chart(ctx2, {
        type: 'line',
        data: {
            labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
            datasets: [{
                label: 'Water Usage for Irrigation (%)',
                data: weeklyWaterUsage,
                borderColor: '#023C39',  // Border color
                backgroundColor: 'rgba(2, 60, 57, 0.2)',  // Background color
                fill: true,
        }]
    },
    options: {
        plugins: {
            legend: {
                onClick: null  // Disable hiding/showing the dataset when clicking on the legend
            }
        }
    }
});
});
</script>
  </main>
  <script>
    // Precision Irrigation Scheduling Chart
    const ctx1 = document.getElementById('precision-irrigation-chart').getContext('2d');
    const precisionIrrigationChart = new Chart(ctx1, {
      type: 'line',
      data: {
        labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4'],
        datasets: [{
          label: 'Water Usage (L)',
          
          data: [500, 450, 420, 400],
          borderColor: 'rgba(2, 60, 57, 1)',
          borderWidth: 2,
          fill: false
        }]
      },
      options: {
        scales: {
          y: {
            beginAtZero: true,
            title: { display: true, text: 'Liters' }
          },
          x: {
            title: { display: true, text: 'Week' }
          }
        },
        plugins: {
          title: {
            display: true,
            text: 'Water Savings Through Precision Irrigation'
          }
        }
      }
    });
  
    // Soil Moisture Monitoring Chart
    const ctx2 = document.getElementById('soil-moisture-chart').getContext('2d');
    const soilMoistureChart = new Chart(ctx2, {
      type: 'bar',
      data: {
        labels: ['Zone 1', 'Zone 2', 'Zone 3', 'Zone 4'],
        datasets: [{
          label: 'Soil Moisture Level (%)',
          data: [30, 45, 50, 35],
          backgroundColor: 'rgba(2, 60, 57, 0.45)',
          borderColor: 'rgba(2, 60, 57, 1)',
          borderWidth: 1
        }]
      },
      options: {
        scales: {
          y: {
            beginAtZero: true,
            title: { display: true, text: 'Moisture (%)' }
          },
          x: {
            title: { display: true, text: 'Irrigation Zone' }
          }
        },
        plugins: {
          title: {
            display: true,
            text: 'Soil Moisture Monitoring'
          }
        }
      }
    });
  
    // Rainwater Harvesting Chart
    const ctx3 = document.getElementById('rainwater-harvesting-chart').getContext('2d');
    const rainwaterHarvestingChart = new Chart(ctx3, {
      type: 'doughnut',
      data: {
        labels: ['Stored Rainwater', 'Used Rainwater'],
        datasets: [{
          label: 'Rainwater (Liters)',
          data: [3000, 1200],
          backgroundColor: [
            'rgba(2, 60, 57, 0.45)',
            'rgba(255, 99, 132, 0.2)'
          ],
          borderColor: [
            'rgba(2, 60, 57, 1)',
            'rgba(255, 99, 132, 1)'
          ],
          borderWidth: 1
        }]
      },
      options: {
        plugins: {
          title: {
            display: true,
            text: 'Rainwater Harvesting System'
          }
        }
      }
    });
  </script>
  
  <footer id="footer" class="footer dark-background">

    <div class="container footer-top">
      <div class="row gy-4">
        <div class="col-lg-4 col-md-6 footer-about">
          <a href="index.html" class="logo d-flex align-items-center">
            <span class="sitename">AgriSense</span>
          </a>
          <div class="footer-contact pt-3">
            <p></p>
            <p>Marrakech, Morocco</p>
            <p class="mt-3"><strong>Phone:</strong> <span>+212 700 619 714</span></p>
            <p><strong>Email:</strong> <span>info.agrisense@gmail.com</span></p>
          </div>
          <div class="social-links d-flex mt-4">
            <a href=""><i class="bi bi-twitter-x"></i></a>
            <a href=""><i class="bi bi-facebook"></i></a>
            <a href=""><i class="bi bi-instagram"></i></a>
            <a href=""><i class="bi bi-linkedin"></i></a>
          </div>
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Useful Links</h4>
          <ul>
            <li><a href="#hero">Home</a></li>
            <li><a href="#about">About us</a></li>
            <li><a href="#services">Services</a></li>
            <li><a href="#">Terms of service</a></li>
            <li><a href="#">Privacy policy</a></li>
          </ul>
        </div>

        <div class="col-lg-2 col-md-3 footer-links">
          <h4>Our Services</h4>
          <ul>
            <li><a>Weather Data</a></li>
            <li><a>NASA Integration</a></li>
            <li><a>Predictive Analytics</a></li>
            <li><a>Water Management</a></li>
            <li><a>Impact Assessment</a></li>
            <li><a>Custom Alerts</a></li>
          </ul>
        </div>

        <div class="col-lg-4 col-md-12 footer-newsletter">
          <h4>Our Newsletter</h4>
          <p>Join our community and stay ahead with the latest updates, insights, and tips—subscribe now to empower your farming journey!</p>
          <form action="forms/newsletter.php" method="post" class="php-email-form">
            <div class="newsletter-form"><input type="email" name="email"><input type="submit" value="Subscribe"></div>
            <div class="loading">Loading</div>
            <div class="error-message"></div>
            <div class="sent-message">Your subscription request has been sent. Thank you!</div>
          </form>
        </div>

      </div>
    </div>

    <div class="container copyright text-center mt-4">
      <p>© <span>Copyright</span> <strong class="px-1 sitename">AgriSense</strong> <span>All Rights Reserved</span></p>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you've purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
        Designed by <a href="https://www.akram.bond">Akram Bellouk</a>
      </div>
    </div>

  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>
